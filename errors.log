Invalid HTTP_HOST header: '127.0.0.1:8000'. You may need to add '127.0.0.1' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\middleware\common.py", line 48, in process_request
    host = request.get_host()
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\http\request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: '127.0.0.1:8000'. You may need to add '127.0.0.1' to ALLOWED_HOSTS.
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 15, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1097, in first
    for obj in queryset[:1]:
               ~~~~~~~~^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 32, in get
    service.update_holdings()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\holding_service.py", line 19, in update_holdings
    prices = self.loader.load_prices()
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 30, in load_prices
    Index.objects.get_or_create(
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 32, in get
    service.update_holdings()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\holding_service.py", line 19, in update_holdings
    prices = self.loader.load_prices()
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 30, in load_prices
    Index.objects.get_or_create(
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 15, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1097, in first
    for obj in queryset[:1]:
               ~~~~~~~~^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 15, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1097, in first
    for obj in queryset[:1]:
               ~~~~~~~~^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
"GET /holdings/ HTTP/1.1" 500 166439
"GET / HTTP/1.1" 500 166479
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 32, in get
    service.update_holdings()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\holding_service.py", line 19, in update_holdings
    prices = self.loader.load_prices()
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 30, in load_prices
    Index.objects.get_or_create(
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
"GET /holdings/ HTTP/1.1" 500 166439
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 32, in get
    service.update_holdings()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\holding_service.py", line 19, in update_holdings
    prices = self.loader.load_prices()
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 45, in load_prices
    MarketData.objects.create(
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
"GET /holdings/ HTTP/1.1" 500 182176
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 32, in get
    service.update_holdings()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\holding_service.py", line 18, in update_holdings
    prices = self.loader.load_prices()
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 30, in load_prices
    Index.objects.get_or_create(
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
"GET /holdings/ HTTP/1.1" 500 166423
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 32, in get
    service.update_holdings()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\holding_service.py", line 18, in update_holdings
    prices = self.loader.load_prices()
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 45, in load_prices
    MarketData.objects.create(
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
"GET /holdings/ HTTP/1.1" 500 185376
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 32, in get
    service.update_holdings()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\holding_service.py", line 20, in update_holdings
    prices = self.loader.load_prices()
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 30, in load_prices
    Index.objects.get_or_create(
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 32, in get
    service.update_holdings()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\holding_service.py", line 20, in update_holdings
    prices = self.loader.load_prices()
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 30, in load_prices
    Index.objects.get_or_create(
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 32, in get
    service.update_holdings()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\holding_service.py", line 20, in update_holdings
    prices = self.loader.load_prices()
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 30, in load_prices
    Index.objects.get_or_create(
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
"GET /holdings/ HTTP/1.1" 500 166503
"GET /holdings/ HTTP/1.1" 500 166503
"GET /holdings/ HTTP/1.1" 500 166355
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: database is locked

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 32, in get
    service.update_holdings()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\holding_service.py", line 20, in update_holdings
    prices = self.loader.load_prices()
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 33, in load_prices
    index, created = Index.objects.get_or_create(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: database is locked
"GET /holdings/ HTTP/1.1" 500 166878
Internal Server Error: /market-info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 60, in get
    return render(request, 'market_info.html', {
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\template\loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: market_info.html
"GET /market-info/ HTTP/1.1" 500 94132
Internal Server Error: /market-info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 58, in get
    calculator.calculate_basket_performances(basket.id, product.courant_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 15, in calculate_basket_performances
    'today': MarketData.objects.get(index=index, data_type='ClosePrice', timestamp__date=current_date),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 652, in get
    raise self.model.MultipleObjectsReturned(
product_manager.models.MarketData.MultipleObjectsReturned: get() returned more than one MarketData -- it returned 9!
Internal Server Error: /market-info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 58, in get
    calculator.calculate_basket_performances(basket.id, product.courant_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 15, in calculate_basket_performances
    'today': MarketData.objects.get(index=index, data_type='ClosePrice', timestamp__date=current_date),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 652, in get
    raise self.model.MultipleObjectsReturned(
product_manager.models.MarketData.MultipleObjectsReturned: get() returned more than one MarketData -- it returned 9!
Internal Server Error: /market-info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 58, in get
    calculator.calculate_basket_performances(basket.id, product.courant_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 15, in calculate_basket_performances
    'today': MarketData.objects.get(index=index, data_type='ClosePrice', timestamp__date=current_date),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 652, in get
    raise self.model.MultipleObjectsReturned(
product_manager.models.MarketData.MultipleObjectsReturned: get() returned more than one MarketData -- it returned 9!
Internal Server Error: /market-info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 58, in get
    calculator.calculate_basket_performances(basket.id, product.courant_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 15, in calculate_basket_performances
    'today': MarketData.objects.get(index=index, data_type='ClosePrice', timestamp__date=current_date),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 652, in get
    raise self.model.MultipleObjectsReturned(
product_manager.models.MarketData.MultipleObjectsReturned: get() returned more than one MarketData -- it returned 9!
Internal Server Error: /market-info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 58, in get
    calculator.calculate_basket_performances(basket.id, product.courant_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 15, in calculate_basket_performances
    'today': MarketData.objects.get(index=index, data_type='ClosePrice', timestamp__date=current_date),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 652, in get
    raise self.model.MultipleObjectsReturned(
product_manager.models.MarketData.MultipleObjectsReturned: get() returned more than one MarketData -- it returned 9!
"GET /market-info/ HTTP/1.1" 500 95431
Internal Server Error: /market-info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 58, in get
    calculator.calculate_basket_performances(basket.id, product.courant_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 15, in calculate_basket_performances
    'today': MarketData.objects.get(index=index, data_type='ClosePrice', timestamp__date=current_date),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\db\models\query.py", line 652, in get
    raise self.model.MultipleObjectsReturned(
product_manager.models.MarketData.MultipleObjectsReturned: get() returned more than one MarketData -- it returned 9!
Internal Server Error: /market-info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 55, in get
    calculator.calculate_basket_performances(product.courant_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 21, in calculate_basket_performances
    for index in Index.objects.all():
                 ^^^^^
NameError: name 'Index' is not defined
"GET /market-info/ HTTP/1.1" 500 82596
Internal Server Error: /market-info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 56, in get
    performances = calculator.calculate_performances(product.courant_date)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 26, in calculate_performances
    today_price = self.get_nearest_price(index.code, current_date)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 18, in get_nearest_price
    value = self.loader.get_price(index_code, check_date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 28, in get_price
    return df.loc[date, index_code]
           ~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexing.py", line 1183, in __getitem__
    return self.obj._get_value(*key, takeable=self._takeable)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4221, in _get_value
    row = self.index.get_loc(index)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\datetimes.py", line 627, in get_loc
    raise KeyError(key)
KeyError: datetime.date(2009, 1, 15)
"GET /market-info/ HTTP/1.1" 500 109595
Internal Server Error: /market-info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 56, in get
    performances = calculator.calculate_performances(product.courant_date)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 26, in calculate_performances
    today_price = self.get_nearest_price(index.code, current_date)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 18, in get_nearest_price
    value = self.loader.get_price(index_code, check_date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 28, in get_price
    return df.loc[date, index_code]
           ~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexing.py", line 1183, in __getitem__
    return self.obj._get_value(*key, takeable=self._takeable)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4221, in _get_value
    row = self.index.get_loc(index)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\datetimes.py", line 627, in get_loc
    raise KeyError(key)
KeyError: datetime.date(2009, 1, 15)
"GET /market-info/ HTTP/1.1" 500 109586
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 114898
Internal Server Error: /api/market-data/DAX/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/DAX/ HTTP/1.1" 500 114862
Internal Server Error: /api/market-data/FTSE100/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/FTSE100/ HTTP/1.1" 500 114910
Internal Server Error: /api/market-data/DAX/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/DAX/ HTTP/1.1" 500 114862
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 114898
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 114898
Internal Server Error: /api/market-data/DAX/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/DAX/ HTTP/1.1" 500 114862
Internal Server Error: /api/market-data/FTSE100/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/FTSE100/ HTTP/1.1" 500 114910
Internal Server Error: /api/market-data/DAX/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/DAX/ HTTP/1.1" 500 114862
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 114898
Internal Server Error: /api/market-data/SMI/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
Internal Server Error: /api/market-data/NASDAQ100/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/SMI/ HTTP/1.1" 500 114862
"GET /api/market-data/NASDAQ100/ HTTP/1.1" 500 114934
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 114898
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 89, in get_market_data
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 114898
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 92, in get_market_data
    mask = (pd.to_datetime(df.index) >= year_ago) & (pd.to_datetime(df.index) <= current_date)
            ^^
NameError: name 'pd' is not defined
"GET /api/market-data/ASX200/ HTTP/1.1" 500 70936
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-22

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 93, in get_market_data
    mask = (pd.to_datetime(df.index) >= year_ago) & (pd.to_datetime(df.index) <= current_date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 114993
Internal Server Error: /api/market-data/ASX200/
"GET /api/market-data/ASX200/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/DAX/
"GET /api/market-data/DAX/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/FTSE100/
"GET /api/market-data/FTSE100/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/DAX/
"GET /api/market-data/DAX/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/ASX200/
"GET /api/market-data/ASX200/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/DAX/
"GET /api/market-data/DAX/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/FTSE100/
"GET /api/market-data/FTSE100/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/NASDAQ100/
"GET /api/market-data/NASDAQ100/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/FTSE100/
"GET /api/market-data/FTSE100/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/DAX/
"GET /api/market-data/DAX/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/SMI/
"GET /api/market-data/SMI/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/NASDAQ100/
"GET /api/market-data/NASDAQ100/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/ASX200/
"GET /api/market-data/ASX200/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/SMI/
Internal Server Error: /api/market-data/FTSE100/
"GET /api/market-data/SMI/ HTTP/1.1" 500 97
"GET /api/market-data/FTSE100/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/NASDAQ100/
"GET /api/market-data/NASDAQ100/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/DAX/
"GET /api/market-data/DAX/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/FTSE100/
"GET /api/market-data/FTSE100/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/NASDAQ100/
"GET /api/market-data/NASDAQ100/ HTTP/1.1" 500 97
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 96, in get_market_data
    df_filtered = df[(df['date'] >= year_ago) & (df['date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 121153
Internal Server Error: /api/market-data/DAX/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 96, in get_market_data
    df_filtered = df[(df['date'] >= year_ago) & (df['date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/DAX/ HTTP/1.1" 500 121117
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 96, in get_market_data
    df_filtered = df[(df['date'] >= year_ago) & (df['date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 121170
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 96, in get_market_data
    df_filtered = df[(df['date'] >= year_ago) & (df['date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 121170
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 96, in get_market_data
    df_filtered = df[(df['date'] >= year_ago) & (df['date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 121183
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 96, in get_market_data
    df_filtered = df[(df['Date'] >= year_ago) & (df['Date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 121183
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 96, in get_market_data
    df_filtered = df[(df['Date'] >= year_ago) & (df['Date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 121184
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 97, in get_market_data
    df_filtered = df[(df['date'] >= year_ago) & (df['date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 121201
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 97, in get_market_data
    df_filtered = df[(df['date'] >= year_ago) & (df['date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 121170
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 97, in get_market_data
    df_filtered = df[(df['date'] >= year_ago) & (df['date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 121189
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 102, in get_market_data
    df_filtered = df[(df['date'] >= year_ago) & (df['date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 121462
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 102, in get_market_data
    df_filtered = df[(df['date'] >= year_ago) & (df['date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 121357
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 102, in get_market_data
    df_filtered = df[(df['date'] >= year_ago) & (df['date'] <= current_date)]
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 6119, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\array_ops.py", line 330, in comparison_op
    res_values = op(lvalues, rvalues)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 121300
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 90, in get_market_data
    prices_data = loader.get_year_prices(index_code, current_date)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 41, in get_year_prices
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 118433
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 90, in get_market_data
    prices_data = loader.get_year_prices(index_code, current_date)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 41, in get_year_prices
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 118455
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 90, in get_market_data
    prices_data = loader.get_year_prices(index_code, current_date)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 48, in get_year_prices
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 119410
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 90, in get_market_data
    prices_data = loader.get_year_prices(index_code, current_date)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 51, in get_year_prices
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 119314
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 90, in get_market_data
    prices_data = loader.get_year_prices(index_code, current_date)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 50, in get_year_prices
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 119355
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 90, in get_market_data
    prices_data = loader.get_year_prices(index_code, current_date)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 50, in get_year_prices
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 119315
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 90, in get_market_data
    prices_data = loader.get_year_prices(index_code, current_date)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 53, in get_year_prices
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 119426
Internal Server Error: /api/market-data/ASX200/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-25

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 90, in get_market_data
    prices_data = loader.get_year_prices(index_code, current_date)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 53, in get_year_prices
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/ASX200/ HTTP/1.1" 500 119426
Internal Server Error: /api/market-data/DAX/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 983, in _cmp_method
    other = self._validate_comparison_value(other)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 542, in _validate_comparison_value
    raise InvalidComparison(other)
pandas.errors.InvalidComparison: 2008-01-28

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 90, in get_market_data
    prices_data = loader.get_year_prices(index_code, current_date)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\data_loader.py", line 50, in get_year_prices
    mask = (df.index >= year_ago) & (df.index <= current_date)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 7197, in _cmp_method
    result = op(self._values, other)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arraylike.py", line 60, in __ge__
    return self._cmp_method(other, operator.ge)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\arrays\datetimelike.py", line 985, in _cmp_method
    return invalid_comparison(self, other, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\ops\invalid.py", line 40, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=datetime64[ns] and date
"GET /api/market-data/DAX/ HTTP/1.1" 500 119250
Internal Server Error: /set-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in set_current_date
    new_date = datetime.strptime(data['date'], '%Y-%m-%d').date()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\AppData\Local\Programs\Python\Python312\Lib\_strptime.py", line 554, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\AppData\Local\Programs\Python\Python312\Lib\_strptime.py", line 333, in _strptime
    raise ValueError("time data %r does not match format %r" %
ValueError: time data '' does not match format '%Y-%m-%d'
"POST /set-current-date/ HTTP/1.1" 500 81482
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 44, in get
    current_date =  StructuredProduct.objects.first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"GET / HTTP/1.1" 500 77506
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 48, in get
    Index.ASX200: 100,
    ^^^^^^^^^^^^
AttributeError: type object 'Index' has no attribute 'ASX200'
"GET / HTTP/1.1" 500 77472
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /update-current-date/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 23, in update_current_date
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"POST /update-current-date/ HTTP/1.1" 500 71964
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 36, in get
    pl_percentage =  self.portfolio.get_pnl()
                     ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Project.py", line 167, in get_pnl
    return ((current_value - self.initial_capital) / self.initial_capital) * 100
             ~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'int' and 'MarketData'
"GET / HTTP/1.1" 500 80763
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 36, in get
    pl_percentage =  self.portfolio.get_pnl()
                     ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Portfolio' object has no attribute 'get_pnl'
"GET / HTTP/1.1" 500 77209
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 54, in get
    'current_date': self.market_data.current_date.strftime('%Y-%m-%d')
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strftime'
"GET / HTTP/1.1" 500 78990
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 54, in get
    'current_date': self.market_data.current_date.strftime('%Y-%m-%d')
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strftime'
"GET / HTTP/1.1" 500 79101
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 54, in get
    'current_date': self.market_data.current_date.strftime('%Y-%m-%d')
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strftime'
"GET / HTTP/1.1" 500 79101
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 39, in get
    total_value = self.portfolio.get_total_value()
                  ^^^^^^^^^^^^^^
AttributeError: 'HoldingView' object has no attribute 'portfolio'
"GET / HTTP/1.1" 500 77138
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 39, in get
    total_value = self.portfolio.get_total_value()
                  ^^^^^^^^^^^^^^
AttributeError: 'HoldingView' object has no attribute 'portfolio'
"GET / HTTP/1.1" 500 77138
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 39, in get
    total_value = self.portfolio.get_total_value()
                  ^^^^^^^^^^^^^^
AttributeError: 'HoldingView' object has no attribute 'portfolio'
"GET / HTTP/1.1" 500 77138
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 39, in get
    total_value = self.portfolio.get_total_value()
                  ^^^^^^^^^^^^^^
AttributeError: 'HoldingView' object has no attribute 'portfolio'
"GET / HTTP/1.1" 500 77138
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 39, in get
    total_value = self.portfolio.get_total_value()
                  ^^^^^^^^^^^^^^
AttributeError: 'HoldingView' object has no attribute 'portfolio'
"GET / HTTP/1.1" 500 77138
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 39, in get
    total_value = self.portfolio.get_total_value()
                  ^^^^^^^^^^^^^^
AttributeError: 'HoldingView' object has no attribute 'portfolio'
"GET / HTTP/1.1" 500 77138
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 39, in get
    total_value = self.portfolio.get_total_value()
                  ^^^^^^^^^^^^^^
AttributeError: 'HoldingView' object has no attribute 'portfolio'
"GET / HTTP/1.1" 500 77138
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 39, in get
    total_value = self.portfolio.get_total_value()
                  ^^^^^^^^^^^^^^
AttributeError: 'HoldingView' object has no attribute 'portfolio'
"GET / HTTP/1.1" 500 77138
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 39, in get
    total_value = self.portfolio.get_total_value()
                  ^^^^^^^^^^^^^^
AttributeError: 'HoldingView' object has no attribute 'portfolio'
"GET / HTTP/1.1" 500 77443
Internal Server Error: /market_info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 136, in get
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"GET /market_info/ HTTP/1.1" 500 77928
Internal Server Error: /market_info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 136, in get
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"GET /market_info/ HTTP/1.1" 500 77928
Internal Server Error: /market_info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 136, in get
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"GET /market_info/ HTTP/1.1" 500 77928
Internal Server Error: /market_info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 136, in get
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"GET /market_info/ HTTP/1.1" 500 77928
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 39, in get
    total_value = self.portfolio.get_total_value()
                  ^^^^^^^^^^^^^^
AttributeError: 'HoldingView' object has no attribute 'portfolio'
"GET /holdings/ HTTP/1.1" 500 77702
Internal Server Error: /market_info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 136, in get
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"GET /market_info/ HTTP/1.1" 500 77928
Internal Server Error: /market_info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 134, in get
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"GET /market_info/ HTTP/1.1" 500 77928
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 61, in get
    'current_date': self.market_data.current_date.strftime('%Y-%m-%d')
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strftime'
"GET /holdings/ HTTP/1.1" 500 79665
Internal Server Error: /market_info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 136, in get
    performances = calculator.calculate_performances(self.market_data.current_date.strftime('%Y-%m-%d'))
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 27, in calculate_performances
    today_price = self.get_nearest_price(index.code, current_date)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\services\calculators\PerformanceCalculator.py", line 18, in get_nearest_price
    check_date = target_date + timedelta(days=date_offset)
                 ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: can only concatenate str (not "datetime.timedelta") to str
"GET /market_info/ HTTP/1.1" 500 87827
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 59, in get
    'current_date': self.market_data.current_date.strftime('%Y-%m-%d')
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strftime'
"GET /holdings/ HTTP/1.1" 500 79677
Internal Server Error: /market_info/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 130, in get
    product = StructuredProduct.objects.first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'StructuredProduct' has no attribute 'objects'
"GET /market_info/ HTTP/1.1" 500 77976
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 59, in get
    'current_date': self.market_data.current_date.strftime('%Y-%m-%d')
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strftime'
"GET /holdings/ HTTP/1.1" 500 79677
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 30, in __init__
    self.market_data = SingletonMarketData.get_instance()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 19, in get_instance
    cls._instance = MarketData()
                    ^^^^^^^^^^^^
TypeError: MarketData.__init__() missing 1 required positional argument: 'file_path'
"GET / HTTP/1.1" 500 76232
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 30, in __init__
    self.market_data = SingletonMarketData.get_instance()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 20, in get_instance
    cls._instance.load_from_excel()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 109, in load_from_excel
    prices_df = self.load_prices()# prix dans la monnaie courante
                ^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 69, in load_prices
    df = pd.read_excel(self.file_path, sheet_name="ClosePrice")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\io\excel\_base.py", line 495, in read_excel
    io = ExcelFile(
         ^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\io\excel\_base.py", line 1550, in __init__
    ext = inspect_excel_format(
          ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\io\excel\_base.py", line 1402, in inspect_excel_format
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\io\common.py", line 882, in get_handle
    handle = open(handle, ioargs.mode)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'C:\\Users\\PC\\PycharmProjects\\tests\\ApplicationProduitStructures\\pythonProject\\structured_product\\data\\DonneesGPS2025.xlsx'
"GET / HTTP/1.1" 500 108017
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 56, in get
    'price_foreign': self.get_price_foreign(index),  # Utilisation correcte de la mthode
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 37, in get_price_foreign
    taux_foreign = self.portfolio.current_prices[index] * self.market_data.get_index_exchange_rate(index, datetime(2009, 1, 5))
                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for *: 'int' and 'NoneType'
"GET / HTTP/1.1" 500 82462
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'Taux de change'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 30, in __init__
    self.market_data = SingletonMarketData.get_instance()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 20, in get_instance
    cls._instance.load_from_excel()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 129, in load_from_excel
    self.index_currency_pairs[index_code] = f"{row['Taux de change']}EUR"
                                               ~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 1121, in __getitem__
    return self._get_value(key)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 1237, in _get_value
    loc = self.index.get_loc(label)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'Taux de change'
"GET / HTTP/1.1" 500 115950
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'Taux de change'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 30, in __init__
    self.market_data = SingletonMarketData.get_instance()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 20, in get_instance
    cls._instance.load_from_excel()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 129, in load_from_excel
    self.index_currency_pairs[index_code] = row['Taux de change']
                                            ~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 1121, in __getitem__
    return self._get_value(key)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\series.py", line 1237, in _get_value
    loc = self.index.get_loc(label)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'Taux de change'
"GET / HTTP/1.1" 500 115908
Internal Server Error: /holdings/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 63, in get
    'price_foreign': self.get_price_foreign(index),  # Utilisation correcte de la mthode
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 35, in get_price_foreign
    exchange_rate = self.market_data.get_index_exchange_rate(index, self.market_data.current_date)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 162, in get_index_exchange_rate
    index = self.indices[index_code]
            ~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: <Index.ASX200: 'ASX200'>
"GET /holdings/ HTTP/1.1" 500 86794
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 33, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 37, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 72, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 89929
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 33, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 37, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 72, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 89929
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 33, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 37, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 72, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 89929
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 33, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 37, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 72, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 89929
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 33, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 37, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 72, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 89929
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 76, in get
    'Rendement_detail': {index: self.get_detail(index, 'rendement') for index in Index},
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 56, in get_detail
    'name': self.market_data.indices.get(index.value).rate_interest,
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'rate_interest'
"GET / HTTP/1.1" 500 82192
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 34, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 38, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 72, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 34, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 38, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 72, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 34, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 38, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 72, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 89929
"POST /update_market_data/ HTTP/1.1" 500 89929
"POST /update_market_data/ HTTP/1.1" 500 89929
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 34, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 38, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 72, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 89929
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 34, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 38, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 72, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 89929
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 31, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 85, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 31, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 85, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 31, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 85, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 31, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 85, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 90022
"POST /update_market_data/ HTTP/1.1" 500 90022
"POST /update_market_data/ HTTP/1.1" 500 90022
"POST /update_market_data/ HTTP/1.1" 500 90022
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 31, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 85, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 90022
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 31, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 85, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 90022
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 31, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 85, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 90022
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 31, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 85, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 90022
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 31, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 85, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 90022
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 31, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 85, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 31, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 85, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 90022
"POST /update_market_data/ HTTP/1.1" 500 90022
Internal Server Error: /update_market_data/
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 27, in __init__
    self.initialize_portfolio()
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 31, in initialize_portfolio
    self.portfolio.initialize_equal_weights(self.market_data, self.market_data.current_date)
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Product\Portfolio.py", line 21, in initialize_equal_weights
    price = market_data.get_price(idx.value, date)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\Market_data.py", line 85, in get_price
    return self.price_strategy.get_data(index_code, date)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Data\strategies\price_strategy.py", line 12, in get_data
    raise ValueError("Data not loaded")
ValueError: Data not loaded
"POST /update_market_data/ HTTP/1.1" 500 90022
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\views.py", line 69, in get
    results = simulator.run_simulation()  # Remplacez par l'indice souhait
              ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Calculator_couverture\Couverture_Delta\model.py", line 63, in run_simulation
    mean_prices, std_prices = analyze_results_numba(simulated_prices)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\numba\core\dispatcher.py", line 424, in _compile_for_args
    error_rewrite(e, 'typing')
  File "C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\numba\core\dispatcher.py", line 365, in error_rewrite
    raise e.with_traceback(None)
numba.core.errors.TypingError: Failed in nopython mode pipeline (step: nopython frontend)
[1m[1m[1m[1mNo implementation of function Function(<function mean at 0x00000169A463EF20>) found for signature:
 
 >>> mean(array(float64, 2d, C), axis=Literal[int](1))
 
There are 2 candidate implementations:
[1m  - Of which 2 did not match due to:
  Overload in function 'array_mean': File: numba\np\old_arraymath.py: Line 424.
    With argument(s): '(array(float64, 2d, C), axis=int64)':[0m
[1m   Rejected as the implementation raised a specific error:
     TypingError: [1mgot an unexpected keyword argument 'axis'[0m[0m
  raised from C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\.venv\Lib\site-packages\numba\core\typing\templates.py:791
[0m
[0m[1mDuring: resolving callee type: Function(<function mean at 0x00000169A463EF20>)[0m
[0m[1mDuring: typing of call at C:\Users\PC\PycharmProjects\tests\ApplicationProduitStructures\pythonProject\structured_product\product_manager\Calculator_couverture\Couverture_Delta\model.py (25)
[0m
[1m
File "product_manager\Calculator_couverture\Couverture_Delta\model.py", line 25:[0m
[1mdef analyze_results_numba(simulated_prices):
[1m    mean_prices = np.mean(simulated_prices, axis=1)
[0m    [1m^[0m[0m

[0m[1mDuring: Pass nopython_type_inference[0m
"GET / HTTP/1.1" 500 102145
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\OneDrive\Bureau\application_gestion_ps\product_manager\views.py", line 32, in __init__
    self.portfolio = Portfolio()
                     ^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\OneDrive\Bureau\application_gestion_ps\product_manager\Product\Portfolio.py", line 12, in __init__
    self.market_data = get_singleton_market_data().get_instance()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\OneDrive\Bureau\application_gestion_ps\product_manager\Product\Portfolio.py", line 7, in get_singleton_market_data
    from ...views import SingletonMarketData
ImportError: attempted relative import beyond top-level package
"GET / HTTP/1.1" 500 79343
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\OneDrive\Bureau\application_gestion_ps\product_manager\views.py", line 32, in __init__
    self.portfolio = Portfolio()
                     ^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\OneDrive\Bureau\application_gestion_ps\product_manager\Product\Portfolio.py", line 12, in __init__
    self.market_data = get_singleton_market_data().get_instance()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\OneDrive\Bureau\application_gestion_ps\product_manager\Product\Portfolio.py", line 7, in get_singleton_market_data
    from views import SingletonMarketData
ModuleNotFoundError: No module named 'views'
"GET / HTTP/1.1" 500 79308
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 97, in view
    self = cls(**initkwargs)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\OneDrive\Bureau\application_gestion_ps\product_manager\views.py", line 32, in __init__
    self.portfolio = Portfolio()
                     ^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\OneDrive\Bureau\application_gestion_ps\product_manager\Product\Portfolio.py", line 12, in __init__
    self.market_data = get_singleton_market_data().get_instance()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\OneDrive\Bureau\application_gestion_ps\product_manager\Product\Portfolio.py", line 7, in get_singleton_market_data
    from ...Data.SingletonMarketData import SingletonMarketData
ImportError: attempted relative import beyond top-level package
"GET / HTTP/1.1" 500 79438
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\OneDrive\Bureau\application_gestion_ps\product_manager\views.py", line 96, in get
    return render(request, 'holdings/list.html', context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\loader.py", line 15, in get_template
    return engine.get_template(template_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\backends\django.py", line 79, in get_template
    return Template(self.engine.get_template(template_name), self)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\engine.py", line 177, in get_template
    template, origin = self.find_template(template_name)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\engine.py", line 159, in find_template
    template = loader.get_template(name, skip=skip)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
           ^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 196, in compile_nodelist
    nodelist = parser.parse()
               ^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\loader_tags.py", line 295, in do_extends
    nodelist = parser.parse()
               ^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\loader_tags.py", line 234, in do_block
    nodelist = parser.parse(("endblock",))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\defaulttags.py", line 862, in do_for
    nodelist_loop = parser.parse(
                    ^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 489, in parse
    raise self.error(token, e)
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 487, in parse
    filter_expression = self.compile_filter(token.contents)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 605, in compile_filter
    return FilterExpression(token, self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 701, in __init__
    filter_func = parser.find_filter(filter_name)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 611, in find_filter
    raise TemplateSyntaxError("Invalid filter: '%s'" % filter_name)
django.template.exceptions.TemplateSyntaxError: Invalid filter: 'get_item'
"GET / HTTP/1.1" 500 280033
Internal Server Error: /
Traceback (most recent call last):
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\OneDrive\Bureau\application_gestion_ps\product_manager\views.py", line 96, in get
    return render(request, 'holdings/list.html', context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\loader.py", line 62, in render_to_string
    return template.render(context, request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\backends\django.py", line 107, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 171, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 163, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 1008, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 969, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\loader_tags.py", line 159, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 163, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 1008, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 969, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 1008, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 969, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\defaulttags.py", line 243, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 969, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 1067, in render
    output = self.filter_expression.resolve(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\template\base.py", line 745, in resolve
    new_obj = func(obj, *arg_vals)
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ayman SLIMAN\OneDrive\Bureau\application_gestion_ps\product_manager\templatetags\custom_filters.py", line 12, in get_item
    return dictionary.get(key)
           ^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get'
"GET / HTTP/1.1" 500 265163
